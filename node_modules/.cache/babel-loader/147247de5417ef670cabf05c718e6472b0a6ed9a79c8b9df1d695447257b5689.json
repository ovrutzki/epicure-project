{"ast":null,"code":"import _toConsumableArray from\"C:/Users/erana/Documents/gitHub.io/epicure-project/epicure/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/erana/Documents/gitHub.io/epicure-project/epicure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./DishModal.css\";import Card from\"../Card/Card\";import{useDispatch,useSelector}from\"react-redux\";import{addToCart}from\"../../store/slicer/orderSlicer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DishModal=function DishModal(props){var clickedDish=useSelector(function(state){return state.dishes.value.find(function(dish){return dish.id===props.id;});});var dispatch=useDispatch();// adding the user changes\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),changes=_useState2[0],setChanges=_useState2[1];var handleChanges=function handleChanges(event){var option=event.target.value;var isChecked=event.target.checked;if(isChecked){setChanges([].concat(_toConsumableArray(changes),[option]));}else{setChanges(changes.filter(function(changes){return changes!==option;}));}};// adding the user side choice\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),sideChoice=_useState4[0],setSideChoice=_useState4[1];var handelSides=function handelSides(event){var option=event.target.value;setSideChoice(option);};var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),quantity=_useState6[0],setQuantity=_useState6[1];// const [userDishForCart, setUserDishForCart] = useState()\nvar userDishForCart={dishId:clickedDish===null||clickedDish===void 0?void 0:clickedDish.id,restaurantId:clickedDish===null||clickedDish===void 0?void 0:clickedDish.restaurantId,price:clickedDish===null||clickedDish===void 0?void 0:clickedDish.price,totalPrice:clickedDish&&clickedDish.price*quantity,quantity:quantity,info:[].concat(_toConsumableArray(changes),[sideChoice]),img:clickedDish===null||clickedDish===void 0?void 0:clickedDish.img,name:clickedDish===null||clickedDish===void 0?void 0:clickedDish.name,restaurantName:props.restaurantName};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{id:\"modal-content\",children:/*#__PURE__*/_jsxs(\"div\",{ref:props.refProps,id:\"modal\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"close\",onClick:props.onClose,children:\"X\"}),/*#__PURE__*/_jsx(Card,{img:clickedDish===null||clickedDish===void 0?void 0:clickedDish.img,name:clickedDish===null||clickedDish===void 0?void 0:clickedDish.name,about:clickedDish===null||clickedDish===void 0?void 0:clickedDish.about,icons:clickedDish===null||clickedDish===void 0?void 0:clickedDish.icons,price:clickedDish===null||clickedDish===void 0?void 0:clickedDish.price}),/*#__PURE__*/_jsxs(\"div\",{id:\"modal-bottom\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Choose a side\"}),clickedDish===null||clickedDish===void 0?void 0:clickedDish.sides.map(function(side,index){return/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handelSides,name:\"sides\",value:side,type:\"radio\"}),side]},index);})]}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Changes\"}),clickedDish===null||clickedDish===void 0?void 0:clickedDish.changes.map(function(change,index){return/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChanges,value:change,type:\"checkbox\"}),change]},index);})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"quantity\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Quantity\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setQuantity(function(quantity){return quantity-1;});},children:/*#__PURE__*/_jsx(\"img\",{src:\"/image/icons/minus.svg\",alt:\"minus\"})}),/*#__PURE__*/_jsx(\"p\",{children:quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setQuantity(function(quantity){return quantity+1;});},children:/*#__PURE__*/_jsx(\"img\",{src:\"/image/icons/plus.svg\",alt:\"plus\"})})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return dispatch(addToCart(userDishForCart));},id:\"cart-btn\",children:\"ADD TO CART\"})]})]})})});};export default DishModal;","map":{"version":3,"names":["React","useState","Card","useDispatch","useSelector","addToCart","DishModal","props","clickedDish","state","dishes","value","find","dish","id","dispatch","changes","setChanges","handleChanges","event","option","target","isChecked","checked","filter","sideChoice","setSideChoice","handelSides","quantity","setQuantity","userDishForCart","dishId","restaurantId","price","totalPrice","info","img","name","restaurantName","refProps","onClose","about","icons","sides","map","side","index","change"],"sources":["C:/Users/erana/Documents/gitHub.io/epicure-project/epicure/src/component/DishModal/DishModal.tsx"],"sourcesContent":["import React, { Dispatch, SetStateAction, useEffect, useState } from \"react\";\r\nimport \"./DishModal.css\";\r\nimport Card from \"../Card/Card\";\r\nimport { ICard, IModal } from \"../../interFaces/interFaces\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { IDishes, IOrderState, IRootState } from \"../../store/store/store\";\r\nimport { addToCart } from \"../../store/slicer/orderSlicer\";\r\n\r\nconst DishModal: React.FC<IModal> = (props: IModal) => {\r\n  const clickedDish = useSelector((state: IRootState) =>\r\n    state.dishes.value.find((dish) => dish.id === props.id)\r\n  );\r\n  const dispatch = useDispatch();\r\n  // adding the user changes\r\n  const [changes, setChanges] = useState<string[]>([]);\r\n  const handleChanges = (event: any) => {\r\n    const option = event.target.value;\r\n    const isChecked = event.target.checked;\r\n    if (isChecked) {\r\n      setChanges([...changes, option]);\r\n    } else {\r\n      setChanges(changes.filter((changes) => changes !== option));\r\n    }\r\n  };\r\n  // adding the user side choice\r\n  const [sideChoice, setSideChoice]: [\r\n    string,\r\n    Dispatch<SetStateAction<string>>\r\n  ] = useState<string>(\"\");\r\n  const handelSides = (event: any) => {\r\n    const option = event.target.value;\r\n    setSideChoice(option);\r\n  };\r\n\r\n  const [quantity, setQuantity] = useState(1);\r\n  // const [userDishForCart, setUserDishForCart] = useState()\r\n\r\n  const userDishForCart: IOrderState = {\r\n    dishId: clickedDish?.id,\r\n    restaurantId: clickedDish?.restaurantId,\r\n    price: clickedDish?.price,\r\n    totalPrice: clickedDish && clickedDish.price * quantity,\r\n    quantity: quantity,\r\n    info: [...changes, sideChoice],\r\n    img: clickedDish?.img,\r\n    name: clickedDish?.name,\r\n    restaurantName: props.restaurantName,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div id=\"modal-content\">\r\n        <div ref={props.refProps} id=\"modal\">\r\n          <button id=\"close\" onClick={props.onClose}>\r\n            X\r\n          </button>\r\n          <Card\r\n            img={clickedDish?.img}\r\n            name={clickedDish?.name}\r\n            about={clickedDish?.about}\r\n            icons={clickedDish?.icons}\r\n            price={clickedDish?.price}\r\n          />\r\n          <div id=\"modal-bottom\">\r\n            <form>\r\n              <h1>Choose a side</h1>\r\n              {clickedDish?.sides.map((side, index: number) => (\r\n                <label key={index} htmlFor=\"\">\r\n                  <input\r\n                    onChange={handelSides}\r\n                    name=\"sides\"\r\n                    value={side}\r\n                    type=\"radio\"\r\n                  />\r\n                  {side}\r\n                </label>\r\n              ))}\r\n            </form>\r\n            <form>\r\n              <h1>Changes</h1>\r\n              {clickedDish?.changes.map((change, index: number) => (\r\n                <label key={index} htmlFor=\"\">\r\n                  <input\r\n                    onChange={handleChanges}\r\n                    value={change}\r\n                    type=\"checkbox\"\r\n                  />\r\n                  {change}\r\n                </label>\r\n              ))}\r\n            </form>\r\n            <div id=\"quantity\">\r\n              <h1>Quantity</h1>\r\n              <div>\r\n                <button onClick={() => setQuantity((quantity) => quantity - 1)}>\r\n                  <img src=\"/image/icons/minus.svg\" alt=\"minus\" />\r\n                </button>\r\n                <p>{quantity}</p>\r\n                <button onClick={() => setQuantity((quantity) => quantity + 1)}>\r\n                  <img src=\"/image/icons/plus.svg\" alt=\"plus\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={() => dispatch(addToCart(userDishForCart))}\r\n              id=\"cart-btn\"\r\n            >\r\n              ADD TO CART\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DishModal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}