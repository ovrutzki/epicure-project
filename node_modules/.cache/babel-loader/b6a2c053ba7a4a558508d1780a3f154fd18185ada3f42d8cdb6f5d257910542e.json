{"ast":null,"code":"import _toConsumableArray from\"C:/Users/erana/Documents/gitHub.io/epicure-project/epicure/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{createSlice}from\"@reduxjs/toolkit\";import data from\"../../epicure.json\";export var restaurantSlice=createSlice({name:\"restaurants\",initialState:{value:data.restaurant,default:data.restaurant},reducers:{mainFilter:function mainFilter(state,action){var d=new Date();var open=[];switch(action.payload){case\"All\":state.value=state.default;break;case\"New\":var year=d.getFullYear();state.value=[];for(var i=0;i<state.default.length;i++){if(year-state.default[i].openYear===0){state.value.push(state.default[i]);}}break;case\"Open Now\":var hour=d.getHours();var day=d.getDay();for(var _i=0;_i<state.default.length;_i++){if(state.default[_i].openHours[0]<hour&&hour<state.default[_i].openHours[1]&&state.default[_i].openDays.includes(day)){open.push(state.default[_i]);}}state.value=open;break;case\"Most Popular\":var mostPopular1=state.default.filter(function(rest){return rest.rating.includes(\"5\");});var mostPopular2=state.default.filter(function(rest){return rest.rating.includes(\"4\");});state.value=[].concat(_toConsumableArray(mostPopular1),_toConsumableArray(mostPopular2));break;default:state.value=state.default;break;}},ratingFilter:function ratingFilter(state,action){}// priceFilter: (state,action):void =>{\n//   for (let i = 0; i < state.default.length; i++) {\n//     let sum = 0;\n//     let rest = data.dishes.filter((dish) => dish.restaurantId === i + 1 )\n//     let price = rest.reduce((accumulator, cornett) => accumulator + cornett.price , sum)\n//     let avrg = price / rest.length\n//     if()\n//   }\n//  }\n}});var _restaurantSlice$acti=restaurantSlice.actions,mainFilter=_restaurantSlice$acti.mainFilter,ratingFilter=_restaurantSlice$acti.ratingFilter;export{mainFilter,ratingFilter};export default restaurantSlice.reducer;","map":{"version":3,"names":["createSlice","data","restaurantSlice","name","initialState","value","restaurant","default","reducers","mainFilter","state","action","d","Date","open","payload","year","getFullYear","i","length","openYear","push","hour","getHours","day","getDay","openHours","openDays","includes","mostPopular1","filter","rest","rating","mostPopular2","ratingFilter","actions","reducer"],"sources":["C:/Users/erana/Documents/gitHub.io/epicure-project/epicure/src/store/slicer/restaurantSlicer.tsx"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport data from \"../../epicure.json\";\r\n\r\nexport const restaurantSlice = createSlice({\r\n  name: \"restaurants\",\r\n  initialState: {\r\n    value: data.restaurant,\r\n    default: data.restaurant\r\n  },\r\n  reducers: {\r\n    mainFilter: (state, action) => {\r\n      let d = new Date();\r\n      let open: Array<any> = [];\r\n\r\n      switch (action.payload){\r\n        case \"All\":\r\n      state.value = state.default ;\r\n      break;\r\n    case \"New\":\r\n      let year = d.getFullYear();\r\n      state.value = []\r\n      for (let i = 0; i < state.default.length; i++) {\r\n        if (year - state.default[i].openYear === 0) {\r\n          state.value.push(state.default[i]);\r\n        }\r\n      }\r\n      break;\r\n      case \"Open Now\":\r\n      let hour = d.getHours();\r\n      let day = d.getDay();\r\n      for (let i = 0; i < state.default.length; i++) {\r\n        if (\r\n          state.default[i].openHours[0] < hour &&\r\n          hour < state.default[i].openHours[1] &&\r\n          state.default[i].openDays.includes(day)\r\n        ) {\r\n          open.push(state.default[i]);\r\n        }\r\n      }\r\n      state.value = open;\r\n      break;\r\n    case \"Most Popular\":\r\n      let mostPopular1 = state.default.filter((rest: any) =>\r\n        rest.rating.includes(\"5\")\r\n      );\r\n      let mostPopular2 = state.default.filter((rest: any) =>\r\n        rest.rating.includes(\"4\")\r\n      );\r\n      state.value = [...mostPopular1, ...mostPopular2];\r\n      break;\r\n    default:\r\n      state.value = state.default;\r\n      break;\r\n      }\r\n    },\r\n    ratingFilter: (state, action) =>{\r\n\r\n\r\n\r\n    }\r\n    // priceFilter: (state,action):void =>{\r\n    //   for (let i = 0; i < state.default.length; i++) {\r\n    //     let sum = 0;\r\n    //     let rest = data.dishes.filter((dish) => dish.restaurantId === i + 1 )\r\n    //     let price = rest.reduce((accumulator, cornett) => accumulator + cornett.price , sum)\r\n    //     let avrg = price / rest.length\r\n    //     if()\r\n    //   }\r\n    //  }\r\n  },\r\n});\r\n\r\nexport const {mainFilter , ratingFilter} = restaurantSlice.actions\r\nexport default restaurantSlice.reducer;\r\n"],"mappings":"wJAAA,OAASA,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,KAAI,KAAM,oBAAoB,CAErC,MAAO,IAAMC,gBAAe,CAAGF,WAAW,CAAC,CACzCG,IAAI,CAAE,aAAa,CACnBC,YAAY,CAAE,CACZC,KAAK,CAAEJ,IAAI,CAACK,UAAU,CACtBC,OAAO,CAAEN,IAAI,CAACK,UAChB,CAAC,CACDE,QAAQ,CAAE,CACRC,UAAU,CAAE,oBAACC,KAAK,CAAEC,MAAM,CAAK,CAC7B,GAAIC,EAAC,CAAG,GAAIC,KAAI,EAAE,CAClB,GAAIC,KAAgB,CAAG,EAAE,CAEzB,OAAQH,MAAM,CAACI,OAAO,EACpB,IAAK,KAAK,CACZL,KAAK,CAACL,KAAK,CAAGK,KAAK,CAACH,OAAO,CAC3B,MACF,IAAK,KAAK,CACR,GAAIS,KAAI,CAAGJ,CAAC,CAACK,WAAW,EAAE,CAC1BP,KAAK,CAACL,KAAK,CAAG,EAAE,CAChB,IAAK,GAAIa,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGR,KAAK,CAACH,OAAO,CAACY,MAAM,CAAED,CAAC,EAAE,CAAE,CAC7C,GAAIF,IAAI,CAAGN,KAAK,CAACH,OAAO,CAACW,CAAC,CAAC,CAACE,QAAQ,GAAK,CAAC,CAAE,CAC1CV,KAAK,CAACL,KAAK,CAACgB,IAAI,CAACX,KAAK,CAACH,OAAO,CAACW,CAAC,CAAC,CAAC,CACpC,CACF,CACA,MACA,IAAK,UAAU,CACf,GAAII,KAAI,CAAGV,CAAC,CAACW,QAAQ,EAAE,CACvB,GAAIC,IAAG,CAAGZ,CAAC,CAACa,MAAM,EAAE,CACpB,IAAK,GAAIP,GAAC,CAAG,CAAC,CAAEA,EAAC,CAAGR,KAAK,CAACH,OAAO,CAACY,MAAM,CAAED,EAAC,EAAE,CAAE,CAC7C,GACER,KAAK,CAACH,OAAO,CAACW,EAAC,CAAC,CAACQ,SAAS,CAAC,CAAC,CAAC,CAAGJ,IAAI,EACpCA,IAAI,CAAGZ,KAAK,CAACH,OAAO,CAACW,EAAC,CAAC,CAACQ,SAAS,CAAC,CAAC,CAAC,EACpChB,KAAK,CAACH,OAAO,CAACW,EAAC,CAAC,CAACS,QAAQ,CAACC,QAAQ,CAACJ,GAAG,CAAC,CACvC,CACAV,IAAI,CAACO,IAAI,CAACX,KAAK,CAACH,OAAO,CAACW,EAAC,CAAC,CAAC,CAC7B,CACF,CACAR,KAAK,CAACL,KAAK,CAAGS,IAAI,CAClB,MACF,IAAK,cAAc,CACjB,GAAIe,aAAY,CAAGnB,KAAK,CAACH,OAAO,CAACuB,MAAM,CAAC,SAACC,IAAS,QAChDA,KAAI,CAACC,MAAM,CAACJ,QAAQ,CAAC,GAAG,CAAC,GAC1B,CACD,GAAIK,aAAY,CAAGvB,KAAK,CAACH,OAAO,CAACuB,MAAM,CAAC,SAACC,IAAS,QAChDA,KAAI,CAACC,MAAM,CAACJ,QAAQ,CAAC,GAAG,CAAC,GAC1B,CACDlB,KAAK,CAACL,KAAK,8BAAOwB,YAAY,qBAAKI,YAAY,EAAC,CAChD,MACF,QACEvB,KAAK,CAACL,KAAK,CAAGK,KAAK,CAACH,OAAO,CAC3B,MAAM,CAER,CAAC,CACD2B,YAAY,CAAE,sBAACxB,KAAK,CAAEC,MAAM,CAAI,CAIhC,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF,CACF,CAAC,CAAC,CAEK,0BAAoCT,eAAe,CAACiC,OAAO,CAApD1B,UAAU,uBAAVA,UAAU,CAAGyB,YAAY,uBAAZA,YAAY,CAA2B,gCAClE,cAAehC,gBAAe,CAACkC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}