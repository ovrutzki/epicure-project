{"ast":null,"code":"import _slicedToArray from\"C:/Users/erana/Documents/gitHub.io/epicure-project/epicure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{deleteFromCart}from'../../store/slicer/orderSlicer';import\"./CartPopUp.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CartPopUp=function CartPopUp(props){var dispatch=useDispatch();var dishesInCart=useSelector(function(state){return state.order.value;});var checkoutPrice=useSelector(function(state){return state.order.checkoutPrice;});var _useState=useState(0),_useState2=_slicedToArray(_useState,2),checkOut=_useState2[0],setCheckOut=_useState2[1];useEffect(function(){setCheckOut(checkOut+checkoutPrice);},[]);return/*#__PURE__*/_jsxs(\"div\",{ref:props.refprops,id:\"cart-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"YOUR ORDER\"}),dishesInCart[0]?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:dishesInCart[0].restaurantName}),/*#__PURE__*/_jsx(\"div\",{id:\"dish-in-cart\",children:dishesInCart.map(function(dish,index){return/*#__PURE__*/_jsxs(\"div\",{id:\"single-dish\",children:[/*#__PURE__*/_jsx(\"img\",{src:dish.img,alt:dish.name}),/*#__PURE__*/_jsxs(\"div\",{id:\"mid-div\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"mid-up\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"amount\",children:dish.quantity}),/*#__PURE__*/_jsxs(\"div\",{id:\"dish-name\",children:[/*#__PURE__*/_jsx(\"h3\",{children:dish.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20AA\",dish.totalPrice,\".00\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{id:\"mid-down\",children:dish.info&&dish.info.map(function(info){return info!==\"\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:info}),/*#__PURE__*/_jsx(\"hr\",{})]});})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"right-div\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return dispatch(deleteFromCart(dish.dishId));},id:\"delete\",children:\"X\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20AA\",dish.price]})]})]},index);})}),/*#__PURE__*/_jsx(\"hr\",{id:\"mid-hr\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"cart-input\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add A Comment\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Special requests, allergies, deary restrictions, etc.\"})]})]}):/*#__PURE__*/_jsx(\"img\",{src:\"/image/icons/empty bag.svg\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"btn-div\",children:[/*#__PURE__*/_jsxs(\"button\",{id:\"checkout-btn\",children:[\"CHECKOUT \\u20AA\",checkOut]}),/*#__PURE__*/_jsx(\"button\",{id:\"history-btn\",children:\"ORDER HISTORY\"})]})]});};export default CartPopUp;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","deleteFromCart","CartPopUp","props","dispatch","dishesInCart","state","order","value","checkoutPrice","checkOut","setCheckOut","refprops","restaurantName","map","dish","index","img","name","quantity","totalPrice","info","dishId","price"],"sources":["C:/Users/erana/Documents/gitHub.io/epicure-project/epicure/src/component/CartapopUp/CartPopUp.tsx"],"sourcesContent":["import React, { HtmlHTMLAttributes, useEffect, useRef, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { RefactorActionInfo } from 'typescript'\r\nimport { deleteFromCart } from '../../store/slicer/orderSlicer'\r\nimport { IOrderState, IRootState } from '../../store/store/store'\r\nimport \"./CartPopUp.css\"\r\n\r\nexport interface ICartModal{\r\n    refprops:any\r\n}\r\n\r\nconst CartPopUp: React.FC<ICartModal> = (props:ICartModal)=> {\r\n    const dispatch = useDispatch()\r\n    const dishesInCart = useSelector((state: IRootState) => state.order.value);\r\n    const checkoutPrice = useSelector((state: IRootState) => state.order.checkoutPrice);\r\n    const [checkOut, setCheckOut] = useState(0)\r\n    useEffect(() => {\r\n        setCheckOut( checkOut + checkoutPrice)\r\n         },[])\r\n\r\n  return (\r\n    <div ref={props.refprops} id='cart-container'>\r\n        <h1>YOUR ORDER</h1>\r\n{ dishesInCart[0] ?  <><h2>{dishesInCart[0].restaurantName}</h2>\r\n        <div id='dish-in-cart'>\r\n        {dishesInCart.map((dish:IOrderState,index:number)=> {\r\n         return   <div key={index} id='single-dish'>\r\n                <img src={dish.img} alt={dish.name} />\r\n                <div id='mid-div'>\r\n                    <div id='mid-up'>\r\n                        <div id='amount'>{dish.quantity}</div>\r\n                        <div id='dish-name'>\r\n                            <h3>{dish.name}</h3>\r\n                            <p>₪{dish.totalPrice}.00</p>\r\n                        </div>\r\n                    </div>\r\n                    <div id='mid-down'>\r\n                        {dish.info && dish.info.map((info:string) => info !== \"\" && (<><p>{info}</p><hr /></>) \r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div id='right-div'><button onClick={() =>dispatch(deleteFromCart(dish.dishId))} id='delete'>X</button><p>₪{dish.price}</p></div>\r\n            </div>\r\n        })}\r\n        </div>\r\n        <hr id='mid-hr'/>\r\n        <div id='cart-input'>\r\n            <h3>Add A Comment</h3>\r\n            <textarea placeholder='Special requests, allergies, deary restrictions, etc.'></textarea>\r\n\r\n        </div></> : <img src='/image/icons/empty bag.svg' />}\r\n        <div id='btn-div'>\r\n            <button id='checkout-btn'>CHECKOUT ₪{checkOut}</button>\r\n            <button id='history-btn'>ORDER HISTORY</button>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CartPopUp\r\n\r\n\r\n"],"mappings":"gJAAA,MAAOA,MAAK,EAAwBC,SAAS,CAAUC,QAAQ,KAAQ,OAAO,CAC9E,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAEtD,OAASC,cAAc,KAAQ,gCAAgC,CAE/D,MAAO,iBAAiB,8IAMxB,GAAMC,UAA+B,CAAG,QAAlCA,UAA+B,CAAIC,KAAgB,CAAI,CACzD,GAAMC,SAAQ,CAAGL,WAAW,EAAE,CAC9B,GAAMM,aAAY,CAAGL,WAAW,CAAC,SAACM,KAAiB,QAAKA,MAAK,CAACC,KAAK,CAACC,KAAK,GAAC,CAC1E,GAAMC,cAAa,CAAGT,WAAW,CAAC,SAACM,KAAiB,QAAKA,MAAK,CAACC,KAAK,CAACE,aAAa,GAAC,CACnF,cAAgCX,QAAQ,CAAC,CAAC,CAAC,wCAApCY,QAAQ,eAAEC,WAAW,eAC5Bd,SAAS,CAAC,UAAM,CACZc,WAAW,CAAED,QAAQ,CAAGD,aAAa,CAAC,CACrC,CAAC,CAAC,EAAE,CAAC,CAEZ,mBACE,aAAK,GAAG,CAAEN,KAAK,CAACS,QAAS,CAAC,EAAE,CAAC,gBAAgB,wBACzC,oBAAI,YAAU,EAAK,CACzBP,YAAY,CAAC,CAAC,CAAC,cAAI,wCAAE,oBAAKA,YAAY,CAAC,CAAC,CAAC,CAACQ,cAAc,EAAM,cACxD,YAAK,EAAE,CAAC,cAAc,UACrBR,YAAY,CAACS,GAAG,CAAC,SAACC,IAAgB,CAACC,KAAY,CAAI,CACnD,mBAAS,aAAiB,EAAE,CAAC,aAAa,wBACnC,YAAK,GAAG,CAAED,IAAI,CAACE,GAAI,CAAC,GAAG,CAAEF,IAAI,CAACG,IAAK,EAAG,cACtC,aAAK,EAAE,CAAC,SAAS,wBACb,aAAK,EAAE,CAAC,QAAQ,wBACZ,YAAK,EAAE,CAAC,QAAQ,UAAEH,IAAI,CAACI,QAAQ,EAAO,cACtC,aAAK,EAAE,CAAC,WAAW,wBACf,oBAAKJ,IAAI,CAACG,IAAI,EAAM,cACpB,qBAAG,QAAC,CAACH,IAAI,CAACK,UAAU,CAAC,KAAG,GAAI,GAC1B,GACJ,cACN,YAAK,EAAE,CAAC,UAAU,UACbL,IAAI,CAACM,IAAI,EAAIN,IAAI,CAACM,IAAI,CAACP,GAAG,CAAC,SAACO,IAAW,QAAKA,KAAI,GAAK,EAAE,eAAK,wCAAE,mBAAIA,IAAI,EAAK,2BAAM,GAAI,GACrF,EACC,GACJ,cACN,aAAK,EAAE,CAAC,WAAW,wBAAC,eAAQ,OAAO,CAAE,yBAAKjB,SAAQ,CAACH,cAAc,CAACc,IAAI,CAACO,MAAM,CAAC,CAAC,EAAC,CAAC,EAAE,CAAC,QAAQ,UAAC,GAAC,EAAS,mCAAG,QAAC,CAACP,IAAI,CAACQ,KAAK,GAAK,GAAM,GAfrHP,KAAK,CAgBf,CACV,CAAC,CAAC,EACI,cACN,WAAI,EAAE,CAAC,QAAQ,EAAE,cACjB,aAAK,EAAE,CAAC,YAAY,wBAChB,oBAAI,eAAa,EAAK,cACtB,iBAAU,WAAW,CAAC,uDAAuD,EAAY,GAEvF,GAAG,cAAG,YAAK,GAAG,CAAC,4BAA4B,EAAG,cACpD,aAAK,EAAE,CAAC,SAAS,wBACb,gBAAQ,EAAE,CAAC,cAAc,WAAC,iBAAU,CAACN,QAAQ,GAAU,cACvD,eAAQ,EAAE,CAAC,aAAa,UAAC,eAAa,EAAS,GAC7C,GACJ,CAEV,CAAC,CAED,cAAeR,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}